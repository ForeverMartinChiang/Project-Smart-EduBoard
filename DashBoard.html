<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ€è¿ˆæ•™è‚²ç™½æ¿ - æ™ºèƒ½æ•™å­¦å·¥ä½œå°</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind Config to match original style exactly -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        blue: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            600: '#2563eb',
                            700: '#1d4ed8',
                        }
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        body { background-color: #F9FAFB; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Main Application Script -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import * as LucideIcons from 'https://esm.sh/lucide-react@0.292.0';

        // Destructure icons
        const {
            Search, Bell, Grid, List, MoreHorizontal, Clock, Star, Trash2, FolderOpen, Plus, ChevronDown, 
            LayoutTemplate, Users, FileText, Settings, LogOut, MonitorPlay, ChevronLeft, Menu, Download, 
            Video, Lightbulb, Timer, Network, BarChart2, Filter, MessageSquare, Share2, MousePointer2, 
            LayoutGrid, StickyNote, Type, Minus, MessageCircle, Frame, Table, BrainCircuit, ChevronsRight, 
            Undo2, Redo2, Map, PenTool, Minimize, Maximize, HelpCircle, ChevronUp, Play, Scan
        } = LucideIcons;

        // ==========================================
        // 1. SHARED & DASHBOARD COMPONENTS
        // ==========================================

        const SidebarItem = ({ icon: Icon, label, active, onClick, count }) => (
            <div onClick={onClick} className={`flex items-center justify-between px-4 py-2.5 mx-2 rounded-lg cursor-pointer transition-colors text-sm font-medium ${active ? 'bg-blue-50 text-blue-600' : 'text-gray-600 hover:bg-gray-100'}`}>
                <div className="flex items-center gap-3">
                    <Icon size={18} />
                    <span>{label}</span>
                </div>
                {count && <span className="text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded-full">{count}</span>}
            </div>
        );

        const FileCard = ({ title, date, owner, isNew, color, onClick }) => (
            <div onClick={onClick} className="group relative bg-white border border-gray-200 rounded-xl hover:shadow-lg transition-all duration-200 cursor-pointer overflow-hidden flex flex-col h-[220px]">
                <div className={`h-[140px] w-full ${color || 'bg-gray-50'} relative p-4 flex items-center justify-center overflow-hidden`}>
                {isNew ? (
                    <div className="flex flex-col items-center justify-center text-blue-600 gap-2">
                        <div className="bg-blue-100 p-3 rounded-full"><Plus size={24} /></div>
                        <span className="text-sm font-medium">æ–°å»ºç™½æ¿</span>
                    </div>
                ) : (
                    <div className="w-full h-full bg-white shadow-sm rounded border border-gray-100 opacity-60 transform scale-90 group-hover:scale-95 transition-transform relative">
                        <div className="h-2 w-1/3 bg-gray-200 rounded mt-4 ml-4"></div>
                        <div className="h-2 w-1/2 bg-gray-200 rounded mt-2 ml-4"></div>
                        <div className="h-2 w-1/4 bg-gray-200 rounded mt-2 ml-4"></div>
                        <div className="absolute bottom-3 right-3 opacity-50">
                            <div className="w-8 h-8 bg-blue-50 rounded-full flex items-center justify-center"><LayoutGrid size={14} className="text-blue-300" /></div>
                        </div>
                    </div>
                )}
                {!isNew && (
                    <div className="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button className="p-1.5 bg-white rounded-md shadow-sm border border-gray-200 hover:bg-gray-50 text-gray-500"><Star size={14} /></button>
                    </div>
                )}
                </div>
                <div className="flex-1 p-3 flex flex-col justify-between bg-white relative z-10">
                    <div>
                        <h3 className={`font-medium text-sm truncate ${isNew ? 'text-blue-600 text-center mt-2' : 'text-gray-800'}`}>{title}</h3>
                        {!isNew && <p className="text-xs text-gray-400 mt-1 flex items-center gap-1"><Clock size={10} /> {date}</p>}
                    </div>
                    {!isNew && (
                        <div className="flex items-center justify-between mt-2 pt-2 border-t border-gray-50">
                            <div className="flex items-center gap-1.5">
                                <div className="w-5 h-5 rounded-full bg-purple-100 text-purple-600 text-[10px] flex items-center justify-center font-bold">{owner?.[0] || 'M'}</div>
                                <span className="text-[10px] text-gray-500">{owner || 'æˆ‘'}</span>
                            </div>
                            <button className="text-gray-400 hover:text-gray-600"><MoreHorizontal size={16} /></button>
                        </div>
                    )}
                </div>
            </div>
        );

        const Dashboard = ({ onOpenFile }) => {
            const [activeTab, setActiveTab] = useState('recent');
            const [viewMode, setViewMode] = useState('grid');
            const mockFiles = [
                { id: 1, title: 'ç¤ºä¾‹ï¼šæ‰¹æ”¹ä½œä¸šWorkflow', date: 'åˆšåˆšï¼Œç‚¹å‡»è¿›å…¥', owner: 'Martin', color: 'bg-indigo-50' },
                { id: 2, title: 'é«˜ä¸­ç‰©ç†-åŠ›å­¦åˆ†æ', date: '2å°æ—¶å‰', owner: 'ç‰©ç†æè€å¸ˆ', color: 'bg-orange-50' },
                { id: 3, title: '2025å¹´æ•™å­¦è§„åˆ’', date: 'æ˜¨å¤©', owner: 'è¡Œæ”¿ åˆ˜å®', color: 'bg-green-50' },
                { id: 4, title: 'è‹±è¯­è§’æ´»åŠ¨ç­–åˆ’', date: '3å¤©å‰', owner: 'Sarah', color: 'bg-pink-50' },
                { id: 5, title: 'é«˜ä¸‰ä¸€æ¨¡é”™é¢˜é›†', date: '1å‘¨å‰', owner: 'æ•°å­¦èƒ¡è€å¸ˆ', color: 'bg-blue-50' },
                { id: 6, title: 'æœªå‘½åç™½æ¿', date: '2025/12/10', owner: 'æˆ‘', color: 'bg-gray-50' },
            ];

            return (
                <div className="flex h-screen w-full bg-[#F9FAFB] font-sans text-gray-800">
                    <div className="w-64 bg-white border-r border-gray-200 flex flex-col flex-shrink-0">
                        <div className="h-16 flex items-center px-5 gap-3 border-b border-gray-100">
                            <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0">
                                <span className="text-white font-bold text-sm tracking-tighter">SE</span>
                            </div>
                            <span className="font-bold text-gray-800 text-base tracking-tight">æ€è¿ˆæ•™è‚²ç™½æ¿</span>
                        </div>
                        <div className="p-4">
                            <button onClick={() => onOpenFile({ title: 'æœªå‘½åç™½æ¿', isNew: true })} className="w-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center gap-2 py-2.5 rounded-lg shadow-sm transition-all font-medium text-sm">
                                <Plus size={18} /> æ–°å»ºç™½æ¿
                            </button>
                        </div>
                        <div className="flex-1 overflow-y-auto py-2 space-y-1">
                            <SidebarItem icon={Clock} label="æœ€è¿‘æ‰“å¼€" active={activeTab === 'recent'} onClick={() => setActiveTab('recent')} />
                            <SidebarItem icon={FolderOpen} label="æˆ‘çš„æ–‡ä»¶" active={activeTab === 'myfiles'} onClick={() => setActiveTab('myfiles')} count={12} />
                            <SidebarItem icon={Star} label="æ˜Ÿæ ‡æ–‡ä»¶" active={activeTab === 'starred'} onClick={() => setActiveTab('starred')} />
                            <div className="pt-4 pb-2 px-6 text-xs font-semibold text-gray-400 uppercase tracking-wider">å›¢é˜Ÿç©ºé—´</div>
                            <SidebarItem icon={Users} label="æ€è¿ˆæ•™ç ”ç»„" active={activeTab === 'team1'} onClick={() => setActiveTab('team1')} />
                        </div>
                        <div className="p-4 border-t border-gray-100 space-y-1">
                            <SidebarItem icon={Trash2} label="å›æ”¶ç«™" />
                            <SidebarItem icon={Settings} label="è®¾ç½®" />
                        </div>
                    </div>
                    <div className="flex-1 flex flex-col overflow-hidden">
                        <div className="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-8 flex-shrink-0 z-10">
                            <div className="flex-1 max-w-xl">
                                <div className="relative group">
                                    <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors" size={18} />
                                    <input type="text" placeholder="æœç´¢ç™½æ¿ã€æ–‡æ¡£æˆ–æ–‡ä»¶å¤¹..." className="w-full bg-gray-50 border border-gray-200 text-sm rounded-lg pl-10 pr-4 py-2 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 transition-all" />
                                </div>
                            </div>
                            <div className="flex items-center gap-4 ml-4">
                                <div className="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-1 rounded-lg pr-2 transition-colors">
                                    <div className="w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-xs border-2 border-white shadow-sm">M</div>
                                    <div className="hidden md:block text-left">
                                        <div className="text-sm font-medium text-gray-700 leading-none">Martin</div>
                                        <div className="text-[10px] text-gray-500 mt-0.5">é«˜çº§æ•™å¸ˆç‰ˆ</div>
                                    </div>
                                    <ChevronDown size={14} className="text-gray-400" />
                                </div>
                            </div>
                        </div>
                        <div className="flex-1 overflow-y-auto p-8">
                            <div className="max-w-7xl mx-auto">
                                <div className="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 mb-8 text-white shadow-md flex items-center justify-between relative overflow-hidden">
                                    <div className="relative z-10">
                                        <h2 className="text-xl font-bold mb-2">æ¬¢è¿å›æ¥, Martin! ğŸ‘‹</h2>
                                        <p className="text-blue-100 text-sm max-w-lg">æ€è¿ˆæ•™è‚²ç™½æ¿å·²æ›´æ–°è‡³ V2.0ï¼Œè‡ªç”±æ¢ç´¢ AI æ™ºèƒ½ä½“ä¸­å¿ƒï¼Œé«˜æ•ˆå¼€å±•æ•™ä¸å­¦ã€‚</p>
                                    </div>
                                    <MonitorPlay className="absolute -right-6 -bottom-6 text-white opacity-10 w-48 h-48" />
                                </div>
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                                    <FileCard isNew title="æ–°å»ºç™½æ¿" onClick={() => onOpenFile({ title: 'æœªå‘½åç™½æ¿', isNew: true })} />
                                    {mockFiles.map(file => (
                                        <FileCard key={file.id} {...file} onClick={() => onOpenFile(file)} />
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // ==========================================
        // 2. EDITOR COMPONENTS (ORIGINAL STYLE)
        // ==========================================

        const IconButton = ({ icon: Icon, active, className = "", onClick }) => (
            <button onClick={onClick} className={`p-2 rounded hover:bg-gray-100 text-gray-600 ${active ? 'bg-blue-50 text-blue-600' : ''} ${className}`}>
                <Icon size={20} strokeWidth={1.5} />
            </button>
        );

        const ToolItem = ({ icon: Icon, active, color }) => (
            <div className={`w-10 h-10 flex items-center justify-center rounded hover:bg-gray-100 cursor-pointer my-1 ${active ? 'bg-blue-50' : ''}`}>
                <Icon size={20} strokeWidth={1.5} className={color || "text-gray-700"} />
            </div>
        );

        const WorkflowCard = ({ title, number, content, headerColor = "bg-blue-100", children, className, style }) => (
            <div className={`absolute bg-white rounded-lg shadow-md border border-gray-200 flex flex-col ${className}`} style={style}>
                <div className={`h-10 ${headerColor} rounded-t-lg flex items-center px-3 justify-between border-b border-gray-100`}>
                    <div className="flex items-center gap-2">
                        {number && <span className="bg-blue-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">{number}</span>}
                        <span className="font-semibold text-gray-700 text-sm">{title}</span>
                    </div>
                    <div className="flex gap-2">
                        <Settings size={14} className="text-gray-500" />
                        <div className="bg-blue-600 rounded-full p-1 cursor-pointer hover:bg-blue-700"><Play size={10} className="text-white fill-white" /></div>
                    </div>
                </div>
                <div className="p-4 text-xs text-gray-600 leading-relaxed overflow-hidden">{content}{children}</div>
            </div>
        );

        const DocCard = ({ title, children, className, style }) => (
            <div className={`absolute bg-white rounded-sm shadow-lg border border-gray-200 p-6 flex flex-col ${className}`} style={{ ...style, width: '220px', minHeight: '300px' }}>
                <div className="mb-4 border-b pb-2"><h3 className="font-bold text-gray-800 text-xs">{title}</h3></div>
                <div className="text-[10px] text-gray-500 space-y-2">{children}</div>
            </div>
        );

        const StickyNoteElement = ({ text, color = "bg-yellow-100", className, style, author }) => (
            <div className={`absolute ${color} shadow-md p-3 rounded-sm transform rotate-1 ${className}`} style={{ ...style, maxWidth: '140px', fontSize: '10px' }}>
                <p className="text-gray-800 font-medium leading-tight">{text}</p>
                {author && <div className="mt-2 flex items-center gap-1"><div className="w-4 h-4 rounded-full bg-gray-300"></div><span className="text-[8px] text-gray-500">{author}</span></div>}
            </div>
        );

        const SpeechBubble = ({ text, style, tailPosition = "bottom" }) => (
            <div className="absolute bg-white border border-gray-200 shadow-sm rounded-2xl px-3 py-2 text-[10px] text-gray-600 z-20 max-w-[150px]" style={style}>
                {text}
                <div className={`absolute w-3 h-3 bg-white border-r border-b border-gray-200 transform rotate-45 ${tailPosition === 'bottom' ? '-bottom-1.5 left-1/2 -translate-x-1/2' : '-left-1.5 top-1/2 -translate-y-1/2'}`}></div>
            </div>
        );

        // --- CONTENT 1: Assignment Correction Workflow  ---
        const WorkflowContent = () => (
            <>
                <svg className="absolute top-0 left-0 w-full h-full pointer-events-none z-0">
                    <path d="M 450 600 C 500 600, 500 450, 620 380" fill="none" stroke="#D8B4FE" strokeWidth="2" markerEnd="url(#arrowhead)" />
                    <path d="M 850 350 C 900 350, 900 350, 950 350" fill="none" stroke="#94A3B8" strokeWidth="1.5" markerEnd="url(#arrowhead-gray)" />
                    <path d="M 750 500 C 750 600, 750 600, 750 680" fill="none" stroke="#D8B4FE" strokeWidth="2" markerEnd="url(#arrowhead)" />
                    <path d="M 450 750 C 500 750, 550 780, 620 720" fill="none" stroke="#D8B4FE" strokeWidth="2" markerEnd="url(#arrowhead)" />
                    <path d="M 850 720 C 900 720, 920 720, 950 720" fill="none" stroke="#D8B4FE" strokeWidth="2" markerEnd="url(#arrowhead)" />
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#D8B4FE" /></marker>
                        <marker id="arrowhead-gray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="#94A3B8" /></marker>
                    </defs>
                </svg>

                <div className="absolute top-20 left-80 w-[300px] bg-white p-2 shadow-sm border border-gray-200 rounded">
                    <h3 className="text-gray-500 mb-2 text-sm font-medium">ä½œä¸šè¯„åˆ¤å‚è€ƒ</h3>
                    <div className="border border-blue-100 bg-blue-50/30 rounded p-1">
                        <div className="grid grid-cols-4 gap-1 text-[8px] text-gray-500 text-center">
                            <div className="col-span-1 bg-blue-100 p-1">è¯„åˆ†æ ‡å‡†</div>
                            <div className="col-span-1 bg-blue-100 p-1">ä¼˜ç§€</div>
                            <div className="col-span-1 bg-blue-100 p-1">è‰¯å¥½</div>
                            <div className="col-span-1 bg-blue-100 p-1">ä¸€èˆ¬</div>
                            {[1,2,3,4].map(i => (<React.Fragment key={i}><div className="border-b border-blue-200 p-1">å†…å®¹</div><div className="border-b border-blue-200 p-1">-</div><div className="border-b border-blue-200 p-1">-</div><div className="border-b border-blue-200 p-1">-</div></React.Fragment>))}
                        </div>
                    </div>
                </div>
                <SpeechBubble text="å¯ä»¥æ ¹æ®å…·ä½“æ–‡æ¡ˆç±»å‹çµæ´»è°ƒæ•´è¯„åˆ†é‡ç‚¹ï¼Œä¾‹å¦‚åº”ç”¨æ–‡æ³¨é‡æ ¼å¼ï¼Œè®®è®ºæ–‡æ³¨é‡é€»è¾‘å±•å¼€" style={{ top: '-5px', left: '420px', width: '180px' }} />
                <div className="absolute top-80 left-100 bg-green-200 rounded-full w-20 h-20 flex items-center justify-center text-center text-[10px] shadow-sm z-10" style={{ top: '120px', left: '260px' }}>Martin<br/>is<br/>ready</div>

                <div className="absolute top-[350px] left-[280px] w-[200px] h-[400px] bg-white border border-gray-200 shadow-md p-3 rounded-md">
                     <h3 className="text-gray-600 mb-3 text-sm font-medium">ä½œä¸šåŒº</h3>
                     <div className="space-y-2">
                        <div className="flex gap-2"><div className="w-6 h-6 bg-blue-100 text-blue-500 text-[10px] flex items-center justify-center rounded">é¡¹ç›®</div><div className="flex-1 h-6 bg-gray-50 border border-dashed border-gray-300 rounded"></div></div>
                         <div className="flex gap-2"><div className="w-6 h-6 bg-blue-100 text-blue-500 text-[10px] flex items-center justify-center rounded">å­¦ç”Ÿ<br/>ä½œä¸š</div><div className="flex flex-col gap-2"><div className="w-24 h-16 bg-gray-200 rounded overflow-hidden relative"><div className="absolute inset-0 flex items-center justify-center text-[8px] text-gray-400">Image 1</div></div><div className="w-24 h-16 bg-gray-200 rounded overflow-hidden relative"><div className="absolute inset-0 flex items-center justify-center text-[8px] text-gray-400">Image 2</div></div></div></div>
                     </div>
                     <StickyNoteElement text="å¦‚æœå­¦ç”Ÿä½œä¸šè¾ƒå¤šï¼Œä¹Ÿå¯ä»¥æ‰¹é‡ä¸Šä¼ åå°æ‰¹é‡å¤„ç†" author="Martin" color="bg-yellow-100" style={{ bottom: '40px', right: '-40px' }} />
                     <SpeechBubble text="è¿™é‡Œå¯ä»¥é“¾æ¥äº‘ç«¯æ–‡ä»¶å¤¹" style={{ top: '-10px', right: '-60px' }} tailPosition="left" />
                </div>

                <WorkflowCard title="ä½œä¸šç‚¹è¯„" number="1" headerColor="bg-blue-50" className="w-[280px] h-[320px]" style={{ top: '250px', left: '600px', zIndex: 10 }} content={
                        <div className="space-y-2"><p>ä½ æ˜¯ä¸€ä½èµ„æ·±é«˜ä¸­è‹±è¯­æ•™å¸ˆï¼Œè¯·æ ¹æ®å›¾ç‰‡ä¸­çš„ä½œæ–‡é¢˜ç›®å’Œä¸¤ä½å­¦ç”Ÿçš„ä½œæ–‡å†…å®¹ï¼Œè‡ªåŠ¨è¯†åˆ«å¹¶å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š</p><ol className="list-decimal pl-4 space-y-1 text-gray-500"><li>æŒ‰ç…§ä¸­å›½é«˜ä¸­è‹±è¯­ä½œæ–‡è¯„åˆ†æ ‡å‡†åˆ†åˆ«ç»™å‡ºæ¯ä½å­¦ç”Ÿçš„åˆ†é¡¹å¾—åˆ†å’Œæ€»åˆ†ï¼›</li><li>ç»™å‡ºæ¸…æ™°ç‚¹è¯„ï¼ŒæŒ‡å‡ºä¼˜ç‚¹ä¸ä¸è¶³ï¼›</li><li>ç”¨é¼“åŠ±æ€§è¯­è¨€ç»™å‡ºçš„ä¸€å¥è¯„è¯­ï¼›</li></ol><p className="mt-2 text-gray-400 italic">è¯·ä»å›¾ç‰‡ä¸­æå–é¢˜ç›®å’Œå­¦ç”Ÿä½œä¸šå†…å®¹åå†è¿›è¡Œ...</p></div>
                    } />
                 <div className="absolute bg-[#C8F08F] shadow-md p-3 rounded-sm transform -rotate-2 z-20 text-center flex flex-col items-center justify-center" style={{ top: '150px', left: '620px', width: '160px', height: '90px' }}><p className="text-gray-800 font-bold text-xs leading-tight">è€å¸ˆå¯ä¿®æ”¹<br/>ç³»ç»Ÿæç¤ºè¯ï¼Œ<br/>è‡ªå®šä¹‰æ‰“åˆ†é£<br/>æ ¼æˆ–è¾“å‡ºæ ¼å¼</p><span className="text-[8px] mt-1 text-gray-600">Martin æäº¤è€…</span></div>
                <div className="absolute bg-[#C8F08F] shadow-md p-2 rounded-sm z-20" style={{ top: '440px', left: '850px', width: '100px' }}><p className="text-[9px] text-gray-800 leading-tight">AIæ’ä»¶å¯ä»¥è°ƒç”¨å¤–éƒ¨åº”ç”¨è¿›è¡Œå¤„ç†/æœç´¢ï¼ˆå¦‚æŸ¥é‡/æŸ¥è¯ï¼‰</p></div>
                <SpeechBubble text="ç‚¹å‡»è¿è¡Œ" style={{ top: '220px', left: '825px' }} />

                <div className="absolute" style={{ top: '200px', left: '950px' }}>
                    <h3 className="text-gray-500 mb-2 ml-2 text-sm">ä½œä¸šåˆ†æ</h3>
                    <DocCard title="ä½œä¸šåˆ†æç»“æœ"><p><strong>å­¦ç”Ÿ1ï¼š</strong></p><p>The essay on public transportation safety...</p><br/><p><strong>å­¦ç”Ÿ2ï¼š</strong></p><p>Regarding the school sports meet...</p></DocCard>
                    <SpeechBubble text="ç”Ÿæˆç»“æœåï¼Œè¿˜å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–å†…å®¹" style={{ top: '-30px', left: '100px' , width: '180px' }} />
                </div>

                <WorkflowCard title="å†™ä½œæŒ‡å¯¼ & æå‡æŒ‡å—" number="2" headerColor="bg-blue-50" className="w-[280px] h-[300px]" style={{ top: '680px', left: '600px', zIndex: 10 }} content={
                        <div className="space-y-2"><p>è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ï¼Œç”Ÿæˆä¸€ä»½è‹±è¯­ä½œæ–‡çš„è¿›é˜¶è®­ç»ƒå»ºè®®ï¼Œé¢å‘é«˜ä¸­ç”Ÿã€‚è¾“å‡ºæ ¼å¼å¦‚ä¸‹ï¼š</p><p>ã€å­¦ç”Ÿå§“åã€‘ï¼šï¼ˆè¯·æå–æˆ–å¡«å†™ï¼‰</p><p>ã€ä½œæ–‡ç±»å‹ã€‘ï¼šï¼ˆå¦‚åº”ç”¨æ–‡/è¯´æ˜æ–‡/è®®è®ºæ–‡ï¼‰</p><p>ã€è®­ç»ƒæ–¹å‘ã€‘ï¼š<br/><span className="text-gray-400">åˆ—å‡º2ä¸ªå»ºè®®é‡ç‚¹ç»ƒä¹ çš„æ–¹å‘ï¼Œç»¼åˆè¯­æ³•ç‚¹æˆ–è¡¨è¾¾æŠ€å·§ã€‚</span></p></div>
                    } />

                <div className="absolute" style={{ top: '650px', left: '950px' }}>
                     <h3 className="text-gray-500 mb-2 ml-2 text-sm">å­¦ç”Ÿå†™ä½œæå‡æŒ‡å—</h3>
                    <DocCard title="å­¦ç”Ÿå†™ä½œæå‡æŒ‡å—"><p><strong>å­¦ç”Ÿ1ï¼š</strong></p><p>ã€è¯„åˆ†ç»“æœã€‘ï¼š21åˆ†ï¼ˆè‰¯å¥½ï¼‰</p><p>ã€é—®é¢˜ç®€è¿°ã€‘ï¼šè¯­æ³•å‡†ç¡®æ€§è¾ƒå¥½ï¼Œä½†è¯æ±‡å¤šæ ·æ€§ç•¥æ˜¾ä¸è¶³ã€‚</p><br/><p><strong>å­¦ç”Ÿ2ï¼š</strong></p><p>ã€è¯„åˆ†ç»“æœã€‘ï¼š18åˆ†ï¼ˆä¸€èˆ¬ï¼‰</p><p>ã€è®­ç»ƒæ–¹å‘ã€‘ï¼š1. å¼ºåŒ–å•è¯æŒæ¡... 2. å­¦ä¹ æ ‡å‡†æ®µè½ç»“æ„...</p></DocCard>
                     <SpeechBubble text="å¯ä»¥æ ¹æ®åŸå§‹ä½œæ–‡è–„å¼±é¡¹ç”Ÿæˆä¸“å±è®­ç»ƒå»ºè®®" style={{ top: '-30px', left: '120px', width: '180px' }} />
                </div>
            </>
        );

        // --- CONTENT 2: SIMPLE COMPONENT DRAFT (NEW WHITEBOARD) ---
        const DraftContent = () => (
            <>
                {/* Placeholder Area */}
                <div className="absolute top-[100px] left-[400px] w-[250px] h-[150px] border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-gray-400">
                    <LayoutGrid size={24} className="mb-2 opacity-50"/>
                    <span className="text-xs">æ‹–æ‹½ç»„ä»¶è‡³æ­¤å¤„</span>
                </div>
            </>
        );


        const Editor = ({ onBack, fileName }) => {
            // ZOOM STATE
            const [zoom, setZoom] = useState(0.9);

            // Zoom Handlers
            const handleZoomIn = () => setZoom(prev => Math.min(prev + 0.1, 2.0));
            const handleZoomOut = () => setZoom(prev => Math.max(prev - 0.1, 0.2));
            const resetZoom = () => setZoom(0.9);

            // Determine which content to show based on filename
            const isWorkflow = fileName === 'è€å¸ˆæ‰¹æ”¹ä½œä¸šWorkflow';

            return (
                <div className="flex flex-col h-screen w-full bg-[#F4F4F4] overflow-hidden font-sans text-slate-800">
                {/* Navbar */}
                <div className="h-14 bg-white border-b border-gray-200 flex items-center justify-between px-4 z-50 shrink-0">
                    <div className="flex items-center gap-4">
                    <div onClick={onBack} className="p-1 hover:bg-gray-100 rounded cursor-pointer transition-colors" title="è¿”å›ä»ªè¡¨ç›˜">
                        <ChevronLeft size={20} className="text-gray-600" />
                    </div>
                    <div className="flex items-center gap-2">
                        <h1 className="font-bold text-gray-800 text-sm md:text-base">{fileName || 'æœªå‘½åç™½æ¿'}</h1>
                        <Star size={16} className="text-blue-500 fill-blue-500" />
                        <span className="bg-gray-100 text-gray-500 text-[10px] px-1.5 py-0.5 rounded border border-gray-200">å…è´¹ç‰ˆ</span>
                    </div>
                    <div className="flex items-center gap-2 ml-2 border-l pl-4 border-gray-200">
                        <Menu size={18} className="text-gray-500" />
                        <Download size={18} className="text-gray-500" />
                        <Search size={18} className="text-gray-500" />
                    </div>
                    </div>
                    <div className="flex items-center gap-2">
                    <div className="hidden md:flex bg-gray-100 rounded-lg p-1 gap-1 mr-4">
                        <IconButton icon={ChevronsRight} className="bg-white shadow-sm" />
                        <IconButton icon={Video} />
                        <IconButton icon={Lightbulb} />
                        <IconButton icon={Timer} />
                        <IconButton icon={Network} />
                        <IconButton icon={BarChart2} />
                    </div>
                    <div className="flex items-center gap-3">
                        <IconButton icon={Filter} className="text-blue-600" />
                        <IconButton icon={MessageSquare} />
                        <div className="w-8 h-8 rounded-full bg-red-200 flex items-center justify-center text-red-500 text-xs font-bold border-2 border-white shadow-sm">M</div>
                        <button className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-1.5 rounded-md text-sm font-medium flex items-center gap-2 transition-colors"><Share2 size={16} /> åˆ†äº«</button>
                        <button className="p-1 hover:bg-gray-100 rounded ml-1"><ChevronUp size={16} className="text-gray-500" /></button>
                    </div>
                    </div>
                </div>

                <div className="flex flex-1 relative overflow-hidden">
                    {/* Toolbar */}
                    <div className="w-14 bg-white border-r border-gray-200 flex flex-col items-center py-4 gap-1 z-40 shadow-[2px_0_5px_rgba(0,0,0,0.02)]">
                        <div className="bg-blue-50 p-1.5 rounded-md mb-2 cursor-pointer"><MousePointer2 size={20} className="text-blue-600 fill-blue-600" /></div>
                        <ToolItem icon={LayoutGrid} />
                        <ToolItem icon={StickyNote} />
                        <ToolItem icon={Type} />
                        <ToolItem icon={Network} />
                        <ToolItem icon={Minus} className="rotate-45" />
                        <ToolItem icon={MessageCircle} />
                        <ToolItem icon={Frame} />
                        <ToolItem icon={Table} />
                        <ToolItem icon={BrainCircuit} color="text-purple-500" />
                        <div className="mt-1"><ChevronsRight size={16} className="text-gray-400" /></div>
                        <div className="mt-auto flex flex-col gap-2 mb-4"><ToolItem icon={Undo2} /><ToolItem icon={Redo2} /></div>
                        <div className="w-10 h-10 border-t border-gray-100 flex items-center justify-center cursor-pointer"><Map size={18} className="text-gray-400" /></div>
                    </div>

                    {/* Canvas Area */}
                    <div className="flex-1 relative bg-[#F4F4F4] overflow-auto cursor-grab active:cursor-grabbing p-10">
                         {/* Dynamic Scale Wrapper */}
                        <div className="relative w-[1400px] h-[1000px] mx-auto origin-top-left transition-transform duration-100 ease-linear"
                             style={{ transform: `scale(${zoom})` }}>
                            
                             {/* Render Content Based on File Type */}
                             {isWorkflow ? <WorkflowContent /> : <DraftContent />}

                        </div>
                    </div>
                </div>
                
                {/* Bottom Controls with Functional Zoom */}
                <div className="absolute bottom-6 left-1/2 transform -translate-x-1/2 flex items-center gap-3 z-50">
                    <div className="bg-white rounded-lg shadow-lg border border-gray-200 p-1 flex items-center"><button className="w-10 h-10 flex items-center justify-center rounded hover:bg-gray-100 text-purple-600"><BrainCircuit size={24} /><span className="text-[10px] absolute bottom-1 font-bold">AI</span></button><div className="h-6 w-px bg-gray-200 mx-1"></div><button className="w-10 h-10 flex items-center justify-center rounded hover:bg-gray-100 text-purple-500"><PenTool size={20} /></button></div>
                    <div className="bg-white rounded-lg shadow-lg border border-gray-200 p-1 flex items-center gap-1 px-2 h-12">
                        <button className="p-2 hover:bg-gray-100 rounded text-gray-600"><Map size={18} /></button>
                        <div className="h-6 w-px bg-gray-200 mx-1"></div>
                        
                        <button onClick={handleZoomOut} className="p-2 hover:bg-gray-100 rounded text-gray-600 active:bg-gray-200 transition-colors"><Minus size={16} /></button>
                        
                        {/* Dynamic Percentage */}
                        <span className="text-sm font-medium text-gray-700 w-12 text-center select-none">{Math.round(zoom * 100)}%</span>
                        
                        <button onClick={handleZoomIn} className="p-2 hover:bg-gray-100 rounded text-gray-600 active:bg-gray-200 transition-colors"><Plus size={16} /></button>
                        
                        <div className="h-6 w-px bg-gray-200 mx-1"></div>
                        <button onClick={resetZoom} className="p-2 hover:bg-gray-100 rounded text-gray-600" title="é‡ç½®"><Maximize size={16} /></button>
                        <button className="p-2 hover:bg-gray-100 rounded text-gray-600 bg-gray-800 text-white rounded-full w-8 h-8 flex items-center justify-center"><HelpCircle size={16} /></button>
                        <button className="p-2 hover:bg-gray-100 rounded text-gray-600"><ChevronsRight size={16} className="rotate-90" /></button>
                    </div>
                </div>
                </div>
            );
        };

        // ==========================================
        // MAIN APP
        // ==========================================

        function App() {
            const [currentView, setCurrentView] = useState('dashboard');
            const [currentFile, setCurrentFile] = useState(null);

            const handleOpenFile = (file) => {
                setCurrentFile(file);
                setCurrentView('editor');
            };

            const handleBack = () => {
                setCurrentView('dashboard');
                setCurrentFile(null);
            };

            return (
                <React.Fragment>
                {currentView === 'dashboard' ? (
                    <Dashboard onOpenFile={handleOpenFile} />
                ) : (
                    <Editor onBack={handleBack} fileName={currentFile?.title} />
                )}
                </React.Fragment>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
